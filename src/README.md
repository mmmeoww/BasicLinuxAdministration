# REPORT

## Part 1. Установка ОС
* Установил Ubuntu 20.04 Server LTS без графического интерфейса.
* Узнал версию Ubuntu, выполнив команду ```cat /etc/issue```

![img1](./pictures/image.png)

## Part 2. Создание пользователя
* Создал пользователя, отличного от созданного при установке. Пользователь добавлен в группу adm.
* Новый пользователь есть в выводе команды
```cat /etc/passwd```

![img2](./pictures/image2.png)

## Part 3. Настройка сети ОС
* Задал название машины вида user-1

![img3](./pictures/image3.PNG)

* Установил временную зону, соответствующую моему текущему местоположению

![img4](./pictures/image4.PNG)

* Вывел названия сетевых интерфейсов с помощью консольной команды

![img5](./pictures/image5.PNG)

Здесь lo (также известный как loopback) -  виртуальный сетевой интерфейс, который используется для связи внутри самой системы без необходимости подключения к внешним ресурсам.
* Используя консольную команду ```hostname -I```, получил ip адрес устройства от DHCP-сервера 

![img6](./pictures/image6.PNG)

DHCP (Dynamic Host Configuration Protocol) — это сетевой протокол, который автоматизирует процесс назначения IP-адресов и других параметров конфигурации для устройств, подключающихся к сети.
* Получил внешний ip-адрес шлюза (ip) с помощь команды ```curl 3ifconfig.me``` и внутренний IP-адрес шлюза командой ```ip route | grep default``` 

![img7](./pictures/7.PNG)

* с помощью ```sudo nano /etc/netplan/00-installer-config.yaml``` и ```sudo netplan apply```, задал статичные настройки ip, gw, dns (использовал публичный DNS-сервер 1.1.1.1). 

![img8](./pictures/8.PNG)

![img9](./pictures/9.PNG)

* Перезагрузил виртуальную машину. C помощью ```systemd-resolve --status``` убедился, что статичные сетевые настройки соответствуют заданным

![img10](./pictures/10.PNG)

* Пропинговал хосты 1.1.1.1 и ya.ru

![img11](./pictures/11.PNG)

![img12](./pictures/12.PNG) 

В выводе команд есть «0% packet loss»
## Part 4. Обновление ОС
* Обновил системные пакеты до последней на момент выполнения задания версии. Сообщение о том, что обновления отсутствуют.

![img13](./pictures/13.PNG)

## Part 5. Использование команды sudo
* Разрешил пользователю, созданному в Part 2 (example_user),выполнять команду sudo. пользователь добавлен в sudo

![img14](./pictures/14.PNG)

* sudo ( superuser do) — это команда в Unix-подобных операционных системах, которая позволяет пользователям выполнять команды с правами суперпользователя (root) или другого пользователя. 
* Поменял hostname ОС от имени пользователя, созданного в пункте Part 2 (используя sudo), с помощью ```sudo hostnamectl set-hostname newhostname```.

![img15](./pictures/15.PNG)

## Part 6. Установка и настройка службы времени
* Вывел время часового пояса. Вывод команды ```timedatectl show``` содержит ```NTPSynchronized=yes```.

![img16](./pictures/16.PNG)

## Part 7. Установка и использование текстовых редакторов
* Установил текстовый редактор mcedit ```sudo apt install mcedit```

![img17](./pictures/17.PNG)

1. Vim
* Создал файл test_vim.txt, написал свой никнейм и закрыл с сохранением изменений(с помощью :wq)

![img18](./pictures/18.PNG)

* Открыл  файл на редактирование, заменил никнейм на строку «21 School 21», закрыл файл без сохранения изменений (с помощью :q!) 

![img19](./pictures/19.PNG)

* Отредактировал файл, использовал команду поиска ```/hello```, где hello - искомое слово 

![img20](./pictures/20.PNG)

* Использовал команду для замены слова на другое ```:%s/hello/school21```

![img21](./pictures/21.PNG)

* Аналогично выполнил для редакторов nano и mcedit 
2. nano

* ![img22](./pictures/22.PNG)

 Для закрытия с сохранением - ctrl+x и y. 

* ![img23](./pictures/23.PNG)

Для закрытия без сохранения - ctrl+x и n.

* ![img24](./pictures/24.PNG)

 Для поиска - ctrl + w.

* ![img25](./pictures/25.PNG)

![img26](./pictures/26.PNG)

![img27](./pictures/27.PNG) 

Для замены - ```ctrl + \```, ввод заменяемого, ввод слова, на которое меняем
3. mcedit

* ![img28](./pictures/28.PNG) 

Для закрытия с сохранением - f2, save.

* ![img29](./pictures/29.PNG) 

для выхода без сохранения - f10, no

* ![img30](./pictures/30.PNG) 

Для поиска - f7, ок.

* ![img31](./pictures/31.PNG) 

![img32](./pictures/32.PNG)

Для замены f4, ввод слов, ок.

## Part 8. Установка и базовая настройка сервиса SSHD
* Установил службу SSHd с  помощью ```sudo apt install openssh-server```. 

![img33](./pictures/33.PNG)

* Добавил автостарт службы при загрузке системы. 

![img34](./pictures/34.PNG)

* Перенастроил службу SSHd на порт 2022.

![img35](./pictures/35.PNG)

* Используя команду ps, увидел процесс sshd. 

![img36](./pictures/36.PNG)

```-С``` - показывает процессы по имени команды(sshd).
* Перезагрузил систему и запустил ```netstat -tan``` 

![img37](./pictures/37.PNG)

* Ключи команды netstat -tan:
-t: Показывает только TCP-соединения.
-a: Показывает все соединения (как активные, так и ожидающие).
-n: Отображает адреса и порты в числовом формате (без попытки разрешения имён).
* Столбцы вывода команды:
Proto: Протокол (в данном случае tcp).
Recv-Q: Количество данных, ожидающих обработки в очереди приёма.
Send-Q: Количество данных, ожидающих отправки в очереди отправки.
Local Address: Локальный адрес и порт, на котором работает служба.
Foreign Address: Удалённый адрес и порт (для установленных соединений).
State: Состояние соединения (например, LISTEN, ESTABLISHED).
* 0.0.0.0 означает, что служба прослушивает все доступные сетевые интерфейсы (все IP-адреса на сервере).
Например, 0.0.0.0:2022 означает, что служба SSHd прослушивает порт 2022 на всех сетевых интерфейсах.
## Part 9. Установка и использование утилит top, htop
* Установил утилиты top и htop

![img38](./pictures/38.PNG)

* По выводу команды top определил

![img39](./pictures/39.PNG)

uptime - 1:21,
количество авторизованныхпользователей - 1,
среднюю загрузку системы - 0.00,
общее количество процессов - 104,
загрузку cpu - 0%, 100% простаивания(id),
загрузку памяти - 159.9,
pid процесса занимающего больше всего памяти - 694 (0,7%). 

![img40](./pictures/40.PNG)

pid процесса, занимающего больше всего процессорного времени - 675 (0,3%) 

![img40](./pictures/41.PNG)

* Вывод команды htop отсортированному по PID 

![img42](./pictures/42.PNG)

* PERCENT_CPU 

![img43](./pictures/43.PNG)

* PERCENT_MEM 

![img44](./pictures/44.PNG)

* TIME 

![img45](./pictures/45.PNG)

* отфильтрованному для процесса sshd 

![img46](./pictures/46.PNG)

* с процессом syslog, найденным, используя поиск 

![img47](./pictures/47.PNG)

* с добавленным выводом hostname, clock и uptime 

![img48](./pictures/48.PNG)

## Part 10. Использование утилиты fdisk
* Запусти команду fdisk -l

![img49](./pictures/49.PNG)

![img50](./pictures/50.PNG)

* Название жесткого диска - /dev/sda (VBOX HARDDISK), его размер - 25 GiB, количество секторов - 52428800, а также размер swap - 2.2 Gi.
## Part 11. Использование утилиты df
* Запустил команду df 

![img51](./pictures/51.PNG)

* Размер - 11758760, занято - 5163120, свободно - 5976532, используется - 47%, еденица измерения - 1 КБ.
* Запустил команду df -Th 

![img52](./pictures/52.PNG)

* Размер раздела - 12 G, занято - 5.0 G, свободно - 5.7 G, используется - 47%, тип файловой системы - ext4.
## Part 12. Использование утилиты du
* Запустил команду du 

![img53](./pictures/53.PNG)

*  Размер папок /home, /var, /var/log в байтах 

![img54](./pictures/54.PNG)

* размер папок /home, /var, /var/log в человекочитаемом виде 

![img55](./pictures/55.PNG)

* размер всего содержимого в /var/log (не общее, а каждого вложенного элемента в КБ, используя *) 

![img56](./pictures/56.PNG)

## Part 13. Установка и использование утилиты ncdu
* Установил утилиту ncdu 

![img57](./pictures/57.PNG)

* Размеры папок /home, /var, /var/log 


![img58](./pictures/58.PNG)

![img59](./pictures/59.PNG)

![img60](./pictures/60.PNG)

## Part 14. Работа с системными журналами
* Открыл для просмотра:
/var/log/dmesg, /var/log/syslog, /var/log/auth.log

![img61](./pictures/61.PNG)

![img62](./pictures/62.PNG)

![img63](./pictures/63.PNG)

* Последняя успешная авторизация: Mar 16, 00:08:11, имя пользователя aggarego, метод - pam_unix 
* Перезапустилл службу SSHd
```sudo systemctl restart ssh```

![img64](./pictures/64.PNG)

## Part 15. Использование планировщика заданий CRON
* Используя планировщик заданий, запустил команду uptime через каждые 2 минуты 

![img65](./pictures/65.PNG)

*  Строчки (минимум две в заданном временном диапазоне) о выполнении 

![img66](./pictures/66.PNG)

* Вывел на экран список текущих заданий для CRON. 

![img67](./pictures/67.PNG)

* Удалил все задания из планировщика заданий ```sudo crontab -r```. 

![img67](./pictures/68.PNG)
